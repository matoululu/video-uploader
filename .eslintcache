[{"/Users/matthewmarineau/Documents/GitHub/birthday-video/src/index.js":"1","/Users/matthewmarineau/Documents/GitHub/birthday-video/src/reportWebVitals.js":"2","/Users/matthewmarineau/Documents/GitHub/birthday-video/src/App.js":"3","/Users/matthewmarineau/Documents/GitHub/birthday-video/src/layout/Header.js":"4","/Users/matthewmarineau/Documents/GitHub/birthday-video/src/layout/Main.js":"5","/Users/matthewmarineau/Documents/GitHub/birthday-video/src/components/Recorder.js":"6","/Users/matthewmarineau/Documents/GitHub/birthday-video/src/components/Howto.js":"7"},{"size":478,"mtime":1607205172000,"results":"8","hashOfConfig":"9"},{"size":362,"mtime":1607205172000,"results":"10","hashOfConfig":"9"},{"size":215,"mtime":1607205172000,"results":"11","hashOfConfig":"9"},{"size":427,"mtime":1611766985485,"results":"12","hashOfConfig":"9"},{"size":174,"mtime":1611690617303,"results":"13","hashOfConfig":"9"},{"size":3261,"mtime":1611767536391,"results":"14","hashOfConfig":"9"},{"size":796,"mtime":1611690344921,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"hggkoz",{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"18"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/matthewmarineau/Documents/GitHub/birthday-video/src/index.js",[],["32","33"],"/Users/matthewmarineau/Documents/GitHub/birthday-video/src/reportWebVitals.js",[],"/Users/matthewmarineau/Documents/GitHub/birthday-video/src/App.js",[],"/Users/matthewmarineau/Documents/GitHub/birthday-video/src/layout/Header.js",[],"/Users/matthewmarineau/Documents/GitHub/birthday-video/src/layout/Main.js",[],"/Users/matthewmarineau/Documents/GitHub/birthday-video/src/components/Recorder.js",["34","35"],"import React from \"react\";\nimport 'video.js/dist/video-js.min.css';\nimport videojs from 'video.js';\nimport RecordRTC from 'recordrtc';\nimport 'videojs-record/dist/css/videojs.record.css';\nimport Record from 'videojs-record/dist/videojs.record.js';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport 'firebase/storage';\nimport Howto from './Howto';\n\nclass Recorder extends React.Component {\n  constructor() {\n    super();\n    this.player = '';\n    this.state = {\n      recorded: false\n    };\n    this.recorded = false;\n    this.options = {\n      controls: true,\n      bigPlayButton: false,\n      loop: false,\n      fluid: false,\n      width: 640,\n      height: 480,\n      plugins: {\n        record: {\n          image: false,\n          audio: true,\n          video: true,\n          frameWidth: 640,\n          frameHeight: 480,\n          maxLength: 20,\n          debug: true\n        }\n      }\n    };\n    this.config = {\n      apiKey: \"AIzaSyD_a-78Rb2WuEzELb0dI_4-caFABxqg7As\",\n      authDomain: \"linkbank-83067.firebaseapp.com\",\n      projectId: \"linkbank-83067\",\n      storageBucket: \"linkbank-83067.appspot.com\",\n      messagingSenderId: \"472372161350\",\n      appId: \"1:472372161350:web:aad65b58f560984b0b9347\",\n      measurementId: \"G-D3MS1HR2RP\"\n    };\n  }\n\n  componentDidMount() {\n    firebase.initializeApp(this.config);\n\n    this.player = videojs('video', this.options, function() {\n\n    });\n\n    this.player.on('startRecord', ()=> {\n      this.setState(state => ({\n        recorded: false\n      }));\n    });\n\n    this.player.on('finishRecord', ()=> {\n      this.setState(state => ({\n        recorded: true\n      }));\n    });\n  }\n\n  handleSend = (e) => {\n    this.storage = firebase.storage().ref();\n    const storageRef = this.storage;\n    const time = Date.now();\n    const videoRef = storageRef.child(`video-${time}`);\n    console.log(e)\n    e.target.classList.add('disabled');\n    e.target.textContent = 'Sending...';\n\n    videoRef.put(this.player.recordedData).then((snapshot) => {\n      console.log('Uploaded a blob or file!');\n\n      e.target.textContent = 'Sent';\n\n      setTimeout(() => {\n        this.setState(state => ({\n          recorded: false\n        }));\n        e.target.classList.remove('disabled');\n        e.target.textContent = 'Send video';\n      }, 1000)\n    });\n  }\n\n  // destroy player on unmount\n  componentWillUnmount() {\n    if (this.player) {\n      this.player.dispose();\n    }\n  }\n\n  render() {\n    return(\n      <div className=\"video__wrapper\">\n        <div className=\"video__content\">\n          <p>Welcome to Emily's 29th birthday surprise! I've built this site to gather a collection of warm birthday wishes to piece together for Emily, this way we won't all feel so separated from one another if even for a short moment.</p>\n        </div>\n        <div className=\"video__relative\">\n          <video className=\"video video-js vjs-default-skin\" id=\"video\"  ></video>\n          <Howto/>\n          {this.state.recorded ? <div className=\"video__button\"><p><span aria-label=\"Thumbs up\">üëç</span> Nice video! Happy with it?</p><button onClick={this.handleSend} className=\"button\">Send video</button></div> : null }\n        </div>\n      </div>\n\n    )\n  }\n}\n\nexport default Recorder;\n","/Users/matthewmarineau/Documents/GitHub/birthday-video/src/components/Howto.js",[],{"ruleId":"36","replacedBy":"37"},{"ruleId":"38","replacedBy":"39"},{"ruleId":"40","severity":1,"message":"41","line":4,"column":8,"nodeType":"42","messageId":"43","endLine":4,"endColumn":17},{"ruleId":"40","severity":1,"message":"44","line":6,"column":8,"nodeType":"42","messageId":"43","endLine":6,"endColumn":14},"no-native-reassign",["45"],"no-negated-in-lhs",["46"],"no-unused-vars","'RecordRTC' is defined but never used.","Identifier","unusedVar","'Record' is defined but never used.","no-global-assign","no-unsafe-negation"]